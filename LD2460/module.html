<style>
    canvas {
      border: 1px solid #000;
    }
</style>

<canvas id="myCanvas" width="700" height="600"></canvas>

<script>
    /* Hier werden die Daten vom Modul verarbeitet. In unserem Falle verschicken wir ein Objekt mit Informationen, wie bestimmte Elemente angepasst werden sollen
       Prinzipiell kann das Nachrichtenformat aber beliebig angepasst werden und kann an den Bedarf des Moduls angepasst werden */
    function handleMessage(data) {
        const decodedData = JSON.parse(data);    
  
        const canvas = document.getElementById('myCanvas');   
        const ctx    = canvas.getContext('2d');

        // Beispiel: Kreis-Mittelpunkt und Radius
        const cx = 350;      // X-Koordinate des Kreismittelpunkts
        const cy = 300;      // Y-Koordinate des Kreismittelpunkts
        const r1  = 290;       // Radius
        const r2  = 195;       // Radius
        const r3  = 100;        // Radius

        // Kreis zeichnen 
        ctx.beginPath();
        ctx.arc(cx, cy, r1, 0, 2 * Math.PI, false); // voller Kreis 
        ctx.fillStyle = 'lightblue';
        ctx.fill();
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#003366';
        ctx.stroke(); 

        // Kreis zeichnen
        ctx.beginPath();
        ctx.arc(cx, cy, r2, 0, 2 * Math.PI, false); // voller Kreis 
        ctx.fillStyle = 'lightblue';
        ctx.fill();
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#003366';
        ctx.stroke();

        // Kreis zeichnen
        ctx.beginPath();
        ctx.arc(cx, cy, r3, 0, 2 * Math.PI, false); // voller Kreis 
        ctx.fillStyle = 'lightblue';
        ctx.fill();
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#003366';
        ctx.stroke();



        for (const parameter in decodedData) {
      
            switch (parameter) {
                case 'value1':
                    const px = cx + r2 * Math.cos(Math.PI / 4); // 45Â° auf dem Kreis
                    break;
                case 'value2':
                    const py = cy + r2 * Math.sin(Math.PI / 4);
                    break;

                default:
                    break;
            }
        }

        // Punkt zeichnen (kleiner Kreis)
        ctx.beginPath();
        ctx.arc(px, py, 4, 0, 2 * Math.PI, false); // kleiner Punkt 
        ctx.fillStyle = 'red';
        ctx.fill();

        // Koordinaten als Text daneben
        ctx.fillStyle = 'black';
        ctx.font = '12px Arial';
        ctx.fillText(`(${px.toFixed(0)}, ${py.toFixed(0)})`, px + 6, py - 6); 
    
    }

</script>


