<style>
    canvas {
      border: 1px solid #000;
    }
</style>

<canvas id="myCanvas" width="700" height="600"></canvas>

<script>
    /* Hier werden die Daten vom Modul verarbeitet. In unserem Falle verschicken wir ein Objekt mit Informationen, wie bestimmte Elemente angepasst werden sollen
       Prinzipiell kann das Nachrichtenformat aber beliebig angepasst werden und kann an den Bedarf des Moduls angepasst werden */
    function handleMessage(data) {
        const decodedData = JSON.parse(data);    
  
        const canvas = document.getElementById('myCanvas');   
        const ctx    = canvas.getContext('2d');

        // Beispiel: Kreis-Mittelpunkt und Radius
        const cx = 350;      // X-Koordinate des Kreismittelpunkts
        const cy = 300;      // Y-Koordinate des Kreismittelpunkts
        const r1  = 290;       // Radius
        const r2  = 195;       // Radius
        const r3  = 100;        // Radius

        // Kreis zeichnen 
        ctx.beginPath();
        ctx.arc(cx, cy, r1, 0, 2 * Math.PI, false); // voller Kreis 
        ctx.fillStyle = 'lightblue';
        ctx.fill();
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#003366';
        ctx.stroke(); 

        // Kreis zeichnen
        ctx.beginPath();
        ctx.arc(cx, cy, r2, 0, 2 * Math.PI, false); // voller Kreis 
        ctx.fillStyle = 'lightblue';
        ctx.fill();
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#003366';
        ctx.stroke();

        // Kreis zeichnen
        ctx.beginPath();
        ctx.arc(cx, cy, r3, 0, 2 * Math.PI, false); // voller Kreis 
        ctx.fillStyle = 'lightblue';
        ctx.fill();
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#003366';
        ctx.stroke();

        const t = decodedData["valueTargets"];
        const px1 = decodedData["x1"];
        const py1 = decodedData["y1"];
        const px2 = decodedData["x2"];
        const py2 = decodedData["y2"];
        const px3 = decodedData["x3"];
        const py3 = decodedData["y3"];
        const px4 = decodedData["x4"];
        const py4 = decodedData["y4"];
        const px5 = decodedData["x5"];
        const py5 = decodedData["y5"];

        // Punkte zeichnen (kleiner Kreis)
        switch (t) {
            case '5':
                ctx.beginPath();
                ctx.arc(px5, py5, 4, 0, 2 * Math.PI, false); // kleiner Punkt 
                ctx.fillStyle = 'red';
                ctx.fill();
                
            case '4':
                ctx.beginPath();
                ctx.arc(px4, py4, 4, 0, 2 * Math.PI, false); // kleiner Punkt 
                ctx.fillStyle = 'red';
                ctx.fill();
                
            case '3':
                ctx.beginPath();
                ctx.arc(px3, py3, 4, 0, 2 * Math.PI, false); // kleiner Punkt 
                ctx.fillStyle = 'red';
                ctx.fill();
                
            case '2':
                ctx.beginPath();
                ctx.arc(px2, py2, 4, 0, 2 * Math.PI, false); // kleiner Punkt 
                ctx.fillStyle = 'red';
                ctx.fill();
                
            case '1':
                ctx.beginPath();
                ctx.arc(px1, py1, 4, 0, 2 * Math.PI, false); // kleiner Punkt 
                ctx.fillStyle = 'red';
                ctx.fill();
        }





        //  Text anzeigen
        ctx.fillStyle = 'black';
        ctx.font = '12px Arial';
        ctx.fillText(`Targets: ${t}`, 610, 20);

    
    }

</script>


